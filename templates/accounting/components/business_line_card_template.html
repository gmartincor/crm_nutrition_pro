{% load presentation_tags %}
{% load tenant_tags %}

<div class="bg-white dark:bg-gray-800 rounded-lg shadow-sm border border-gray-200 dark:border-gray-700 p-6 hover:shadow-md transition-shadow">
    <div class="flex items-start justify-between mb-4">
        <div class="flex items-center">
            <div class="p-3 rounded-lg {{ presentation.display.styling.bg_class }}">
                <svg class="w-6 h-6 {{ presentation.display.styling.text_class }}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    {% if presentation.display.styling.icon == 'building' %}
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-5 0H9m0 0H5m0 0h2M7 7h10M7 11h4m6 0h2m-6 4h2m2-6h2"></path>
                    {% elif presentation.display.styling.icon == 'users' %}
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"></path>
                    {% elif presentation.display.styling.icon == 'user' %}
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    {% endif %}
                </svg>
            </div>
            <div class="ml-4">
                <h3 class="text-lg font-semibold text-gray-900 dark:text-white">{{ business_line.name }}</h3>
                {% if presentation.display.has_description %}
                <p class="text-sm text-gray-600 dark:text-gray-400 mt-1">{{ business_line.description }}</p>
                {% endif %}
            </div>
        </div>
        
        <div class="flex flex-col gap-2">
            {% level_badge business_line %}
            {% status_badge business_line %}
        </div>
    </div>
    
    <div class="grid grid-cols-2 gap-4 text-sm text-gray-600 dark:text-gray-400 mb-4">
        {% if presentation.display.has_slug %}
        <div>
            <span class="font-medium">Slug:</span>
            <span class="font-mono text-xs bg-gray-100 dark:bg-gray-700 px-2 py-1 rounded">{{ business_line.slug }}</span>
        </div>
        {% endif %}
        
        <div>
            <span class="font-medium">Creada:</span>
            {{ presentation.formatted_created }}
        </div>
        
        {% if business_line.parent %}
        <div class="col-span-2">
            <span class="font-medium">LÃ­nea padre:</span>
            <a href="{% tenant_url 'accounting:business_line_detail' business_line.parent.slug %}" 
               class="text-blue-600 dark:text-blue-400 hover:underline">
                {{ business_line.parent.name }}
            </a>
        </div>
        {% endif %}
    </div>
    
    {% if show_actions and user and presentation.user_actions %}
    <div class="border-t border-gray-200 dark:border-gray-700 pt-4">
        {% render_user_actions user business_line %}
    </div>
    {% endif %}
</div>
